montageDefine("24e6f9c","logic/service/weather-service",{dependencies:["montage/data/service/http-service","montage/data/service/data-service","montage/data/service/data-selector","../model/weather-report"],factory:function(e,a,t){var r=e("montage/data/service/http-service").HttpService;e("montage/data/service/data-service").DataService,e("montage/data/service/data-selector").DataSelector,e("../model/weather-report").WeatherReport,a.WeatherService=r.specialize({API_KEY:{value:"7593a575795cbd73f54c69a321ed86fe"},ENDPOINT:{value:"http://api.openweathermap.org/data/2.5/"},fetchRawData:{value:function(e){var a=this,t=e.selector.criteria;return a.fetchHttpRawData(this._getUrl(t,!0),!1).then(function(r){r&&(a.addRawData(e,[r],t),a.rawDataDone(e))})}},mapFromRawData:{value:function(e,a,t){e.temp=a.main.temp}},_getUrl:{value:function(e,a){var t=e.parameters;return this.ENDPOINT+"weather?q="+t.city+","+t.country+"&units="+t.unit+"&appid="+this.API_KEY}}})}});