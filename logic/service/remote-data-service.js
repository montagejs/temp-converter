var HttpService=require("montage/data/service/http-service").HttpService,DataObjectDescriptor=require("montage/data/model/data-object-descriptor").DataObjectDescriptor,serialize=require("montage/core/serialization/serializer/montage-serializer").serialize,deserialize=require("montage/core/serialization/deserializer/montage-deserializer").deserialize;exports.RemoteDataService=HttpService.specialize({ENDPOINT:{value:"https://localhost:8080"},fetchRawData:{value:function(e){return this.fetchRawDataWithQuery(e)}},mapFromRawData:{value:function(e,t,a){e.temp=t[0].temp}},fetchRawDataWithQuery:{value:function(e){var t=this,a=e.selector.criteria,r=e.selector.type,i=e.selector,o=t.ENDPOINT,n=this._getQuery(a,r,i);return o+="?query="+n,t.fetchHttpRawData(o,!1).then(function(r){r&&(t.addRawData(e,[r],a),t.rawDataDone(e))})}},fetchRawDataWithBody:{value:function(e){var t=this,a=e.selector.criteria,r=e.selector.type,i=e.selector,o=t.ENDPOINT,n=this._getQuery(a,r,i);return t.fetchHttpRawData(o,n,!1).then(function(r){r&&(t.addRawData(e,[r],a),t.rawDataDone(e))})}},fetchRawDataUsingParams:{value:function(e){var t=this,a=e.selector.criteria,r=e.selector.type,i=e.selector,o=t.ENDPOINT;return o+=this._getUrlQueryParams(a,r,i),t.fetchHttpRawData(o,!1).then(function(r){r&&(t.addRawData(e,[r],a),t.rawDataDone(e))})}},_getQuery:{value:function(e,t,a){var r=serialize(a,require);return deserialize(r,require).then(function(e){}),encodeURIComponent(r)}},_getUrlQueryParams:{value:function(e,t,a){var r=t._montage_metadata.module,i=t._montage_metadata.property;serialize(a,require);return"?parameters="+encodeURIComponent(JSON.stringify(e.parameters))+"&module="+encodeURIComponent(r)+"&moduleName="+encodeURIComponent(i)+"&expression="+encodeURIComponent(e.expression)}}});